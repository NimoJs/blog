<!DOCTYPE html>
<html lang="zh-Hans">
  <head><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="description" content="在代码中明确函数参数固定且每个参数只能有一个类型能让代码更易于维护"/><meta name="keywords" content="typescript规范,typescript技巧" /><link rel="alternate" href="/atom.xml" title="nimo.fun技术博客" type="application/atom+xml">
<link rel="canonical" href="https://nimo.fun/ts_go_generics/"/>


<link rel="stylesheet" type="text/css" href="/css/style.css?v=" />

<script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<script>
  window.config = {"leancloud":"","toc":"","fancybox":"","pjax":"","latex":""};
</script>
<style>
.header .logo-wrapper .logo {
font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, "PingFang SC", Cambria, Cochin, Georgia, Times, "Times New Roman", serif;
letter-spacing:-.02em;
}
html .post .post-content img {
  box-shadow: 0px 0px .2em rgba(111,111,111,.4);
  border-radius:.5em;
  margin-left:auto;
  margin-right:auto;
  display:block;
}
.post .post-header .post-title ,
.header .site-navbar .menu .menu-item-link,
.post .post-content h1,
.mobile-navbar .mobile-header-logo .logo,
html body {
 font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, "PingFang SC", Cambria, Cochin, Georgia, Times, "Times New Roman", serif;
}
.post .post-content h1 {
display:none;
}
::selection {
    background: #95beea;
    color: #111;
}
html body {
  background:white;
}
</style>

    <title>TypeScript 中 松散的类型当做药品 - nimo.fun技术博客</title>
  <meta name="generator" content="Hexo 5.4.0"></head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">nimo.fun技术博客</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list"></ul>
</nav>
<div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">nimo.fun技术博客</a>
</div>

<nav class="site-navbar"></nav>
</header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content"><article class="post">
    <header class="post-header">
      <h1 class="post-title">TypeScript 中 松散的类型当做药品
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2020-04-01
        </span></div>
    </header>

    <div class="post-content"><h1 id="将-TypeScript-中-松散的类型当做药品"><a href="#将-TypeScript-中-松散的类型当做药品" class="headerlink" title="将 TypeScript 中 松散的类型当做药品"></a>将 TypeScript 中 松散的类型当做药品</h1><p><a href="https://nimo.fun/notice/"><img src="http://nimo.fun/notice/index.svg" alt="nimo.fun"></a></p>
<blockquote>
<p>本文代码有大量的 test 和  expect 函数,目的是替代注释,用 expect 说明变量和函数的返回值</p>
</blockquote>
<h2 id="动态语言不需要泛型"><a href="#动态语言不需要泛型" class="headerlink" title="动态语言不需要泛型"></a>动态语言不需要泛型</h2><p>基于显而易见的原因如果你使用的是动态语言没有类型系统意味着一切都是泛型.</p>
<p>我通过列举一个 <code>filterZeroValue</code> 的例子来说明情况:</p>
<blockquote>
<p>为了把重点放在类型系统上所以使用 <code>filterZeroValue</code> 这个简单的函数,实际情况中不大可能封装 <code>filterZeroValue</code> 而是直接写 <code>list.filter</code>.</p>
</blockquote>
<p>比如在 JavaScript 中:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 排除数组中的空值&#x27;</span></span><br><span class="line"><span class="comment"> * @param list</span></span><br><span class="line"><span class="comment"> * @return notZeroValueList</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">jsFilterZeroValue</span>(<span class="params">list</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> list.filter(<span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (<span class="keyword">typeof</span> item) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;string&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> item != <span class="string">&quot;&quot;</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;number&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> item != <span class="number">0</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&quot;filterZeroValue: list[] item must be string or number&quot;</span> )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test(<span class="string">&quot;jsFilterZeroValue&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    expect(jsFilterZeroValue([<span class="string">&quot;a&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="string">&quot;c&quot;</span>])).toStrictEqual([<span class="string">&quot;a&quot;</span>,<span class="string">&quot;c&quot;</span>])</span><br><span class="line">    expect(jsFilterZeroValue([<span class="number">1</span>,<span class="number">0</span>,<span class="number">3</span>])).toStrictEqual([<span class="number">1</span>,<span class="number">3</span>])</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>你甚至可以3行代码搞定</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">jsFilterZeroValue</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> list.filter(<span class="function">(<span class="params">item</span>)=&gt;</span> &#123;<span class="keyword">return</span> !!item&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>不这么做是因为需要在参数是 string number 之外的的类型时进行错误提示,和减少隐式类型转换.</p>
<h2 id="TypeScript-实现泛型"><a href="#TypeScript-实现泛型" class="headerlink" title="TypeScript 实现泛型"></a>TypeScript 实现泛型</h2><blockquote>
<p>注意不要只看下面的代码后就结束,看完文章会发现下面的代码是不好的</p>
</blockquote>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tsFilterZeroValue</span>&lt;<span class="title">T</span>&gt;(<span class="params">list: T[]</span>): <span class="title">T</span>[] </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> list.filter(<span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (<span class="keyword">typeof</span> item) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;string&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> item != <span class="string">&quot;&quot;</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;number&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> item != <span class="number">0</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&quot;filterZeroValue: list[] item must be string or number&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">test(<span class="string">&quot;tsFilterZeroValue&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    expect(tsFilterZeroValue([<span class="string">&quot;a&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="string">&quot;c&quot;</span>])).toStrictEqual([<span class="string">&quot;a&quot;</span>,<span class="string">&quot;c&quot;</span>])</span><br><span class="line">    expect(tsFilterZeroValue([<span class="number">1</span>,<span class="number">0</span>,<span class="number">3</span>])).toStrictEqual([<span class="number">1</span>,<span class="number">3</span>])</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>虽然通过 <code>&lt;T&gt;(list: T[]): T[]</code> 约束了必须是个数组,并且输出的类型和输入的类型一致.但是还是不能明确只允许 <code>number[]</code> <code>string[]</code> .</p>
<h3 id="联合类型"><a href="#联合类型" class="headerlink" title="联合类型"></a>联合类型</h3><p>上面的列子可以用联合类型来解决,但是联合类型也不够好哦.</p>
<blockquote>
<p>联合类型和泛型其实是一类方法,在现在的这个场景的目的就是偷懒.</p>
</blockquote>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unionTypeFilterZeroValue</span>(<span class="params">list: <span class="built_in">string</span>[] | <span class="built_in">number</span>[]</span>) :<span class="title">string</span>[] | <span class="title">number</span>[] </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> output = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i= <span class="number">0</span>;i&lt;list.length;i++ ) &#123;</span><br><span class="line">        <span class="keyword">const</span> item = list[i]</span><br><span class="line">        <span class="keyword">switch</span> (<span class="keyword">typeof</span> item) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;string&quot;</span>:</span><br><span class="line">                <span class="keyword">if</span> (item != <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">                   output.push(item)</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;number&quot;</span>:</span><br><span class="line">                <span class="keyword">if</span> (item != <span class="number">0</span>) &#123;</span><br><span class="line">                    output.push(item)</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&quot;filterZeroValue: list[] item must be string or number&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> output</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">test(<span class="string">&quot;unionTypeFilterZeroValue&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    expect(unionTypeFilterZeroValue([<span class="string">&quot;a&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="string">&quot;c&quot;</span>])).toStrictEqual([<span class="string">&quot;a&quot;</span>,<span class="string">&quot;c&quot;</span>])</span><br><span class="line">    expect(unionTypeFilterZeroValue([<span class="number">1</span>,<span class="number">0</span>,<span class="number">3</span>])).toStrictEqual([<span class="number">1</span>,<span class="number">3</span>])</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="TypeScript-filterZeroValue-正确的实现"><a href="#TypeScript-filterZeroValue-正确的实现" class="headerlink" title="TypeScript filterZeroValue 正确的实现"></a>TypeScript filterZeroValue 正确的实现</h3><p>上面的 <code>tsFilterZeroValue</code> 和 <code>unionTypeFilterZeroValue</code> 都不够好,<br>反而 TypeScript 代码写的很复杂.虽然可能是我个人对 TypeScript 了解程度不够,<br>要注意团队中不是每个人都是 TypeScript 高手.</p>
<p>实际上在TypeScript中使用泛型绝大部分情况下是编码思维没有转换为静态类型思维.</p>
<p>请看下面的代码</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stringListFilterZeroValue</span>(<span class="params">list: <span class="built_in">string</span>[]</span>) :<span class="title">string</span>[] </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> list.filter(<span class="function"><span class="keyword">function</span> (<span class="params">v</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> v != <span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">numberListFilterZeroValue</span>(<span class="params">list: <span class="built_in">number</span>[]</span>) :<span class="title">number</span>[] </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> list.filter(<span class="function"><span class="keyword">function</span> (<span class="params">v</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> v != <span class="number">0</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test(<span class="string">&quot;stringAndNumberlistFilterZeroValue&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    expect(stringListFilterZeroValue([<span class="string">&quot;nimo&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="string">&quot;nico&quot;</span>])).toStrictEqual([<span class="string">&quot;nimo&quot;</span>,<span class="string">&quot;nico&quot;</span>])</span><br><span class="line">    expect(numberListFilterZeroValue([<span class="number">1</span>,<span class="number">0</span>,<span class="number">3</span>])).toStrictEqual([<span class="number">1</span>,<span class="number">3</span>])</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<blockquote>
<p>不要带入动态类型快猛糙的思维去写 TypeScript</p>
</blockquote>
<p>该多写点”重复”的代码,这样反而实现会更简单,更易于阅读.</p>
<p>最重要的是有些情况下使用了泛型或联合类型加上编码时疏忽了会造成想不到的bug:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateSQL</span>(<span class="params">id: <span class="built_in">string</span>, names: <span class="built_in">string</span>[]</span>) :</span>&#123;sql:<span class="built_in">string</span>, <span class="attr">values</span>:<span class="built_in">any</span>[]&#125; &#123;</span><br><span class="line">    <span class="keyword">const</span> updateValue = stringListFilterZeroValue(names)</span><br><span class="line">    <span class="comment">// 如果 updateSQL 的函数参数 names 改成了  ages int[]</span></span><br><span class="line">    <span class="comment">// stringListFilterZeroValue 将会在编译期报错</span></span><br><span class="line">    <span class="comment">// 如果使用的是 unionTypeFilterZeroValue 则不会</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// names 修改后 要让此处编译期报错的目的是要</span></span><br><span class="line">    <span class="comment">// 提醒自己,在没有修改前的代码逻辑中期望 updateValue 是一个 string[]</span></span><br><span class="line">    <span class="comment">// 如果使用 unionTypeFilterZeroValue 则没有了这一层提醒</span></span><br><span class="line">    <span class="comment">// 而 JSON.stringify(string[]) 和 JSON.stringify(number[]) 的结果是不一样的</span></span><br><span class="line">    <span class="comment">// 而这个不一样类型系统是无法检查到的,因为返回值 的 values 属性因为 sql 的场景导致就是 any[]</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        sql: <span class="string">`UPDATE tableName SET names = ? WHERE id = ?`</span>,</span><br><span class="line">        values: [<span class="built_in">JSON</span>.stringify(updateValue), id],</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">test(<span class="string">&quot;updateSQL&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    expect(updateSQL(<span class="string">&quot;1&quot;</span>, [<span class="string">&quot;nimo&quot;</span>, <span class="string">&quot;nico&quot;</span>])).toStrictEqual(</span><br><span class="line">        &#123;</span><br><span class="line">            sql: <span class="string">&quot;UPDATE tableName SET names = ? WHERE id = ?&quot;</span>,</span><br><span class="line">            values: [</span><br><span class="line">                <span class="string">&#x27;[&quot;nimo&quot;,&quot;nico&quot;]&#x27;</span>,</span><br><span class="line">                <span class="string">&quot;1&quot;</span>,</span><br><span class="line">            ],</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>上面的例子不够完美,本文想表达的主要的观点是:</p>
<p><strong>控制参数数量和类型不可变</strong></p>
<p>在代码中明确函数参数固定且每个参数只能有一个类型能让代码更易于维护</p>
<p><strong>尽可能多的在编译期做类型检查发现问题</strong></p>
<p>即使单元测试和细心编码能检查出这种小概率的错误,但是编码要做悲观设计.不能总期望写代码的人状态在线</p>
<p><strong>将松散的类型当做药品使用</strong></p>
<p>泛型,联合类型这种应当当做药品去使用,不到万不得已不要使用.比如 Go 语言中就不支持 TypeScript 这种泛型,也照样构建了那么稳定的项目,<br>只要不是觉得业务代码中出现大量重复代码太麻烦,就要避免使用松散的类型.非业务逻辑的第三方封装代码,就必须让参数类型只能有一个.<br>除非你实现是 JSON.parse 这种必须用 any 的库.</p>
<blockquote>
<p>有些人对于效率和质量的认知可能与作者有偏差,作者是绝对侧重质量,在要效率非常低下的情况下才通过深思熟虑的才写一些”偷懒的代码”.<br>读者可以有自己的判断,但请注意: 如果因为类型不严谨导致项目中出现一个 bug,如果能后悔你会愿意花十倍的时间去弥补写出更多类型严谨的代码.</p>
</blockquote>
<p>如果你觉得本文观点不错,请将本文推荐给你的朋友或同事</p>
<p>原文地址 <a target="_blank" rel="noopener" href="https://github.com/nimoc/blog/issues/34">https://github.com/nimoc/blog/issues/34</a> (原文保持持续更新和更多的评论)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
      </div>
      
      <footer class="post-footer">
        <div class="post-tags">
            <a href="/tags/%E5%89%8D%E7%AB%AF/">前端</a>
            <a href="/tags/TypeScript/">TypeScript</a>
            </div>
        
        <nav class="post-nav"><a class="prev" href="/f2e_up/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">Web 前端的困局与突破</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    </nav></footer>
    </article></div><div class="comments" id="comments"></div></div>
      </main>

      <footer id="footer" class="footer"><div class="copyright">
  

  <span class="copyright-year">&copy;2021<span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">nimoc</span>
  </span>
</div>
</footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div><script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  <script type="text/javascript" src="/js/src/even.js?v="></script>
</body>
</html>
